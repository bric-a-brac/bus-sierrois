<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8"/>
	<title>Bus Sierrois</title>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<link rel="preconnect" href="https://fonts.googleapis.com"/>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
<link rel="stylesheet" href="fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;600;800&amp;display=swap"/>
<link rel="stylesheet" href="styles/styles.css"/>
<link rel="stylesheet" href="styles/stops.css"/>

<link rel="stylesheet" href="styles/menu.css"/>

<!--
<link rel="stylesheet" href="styles/dev.css"/>
-->

<link rel="manifest" href="/manifest.webmanifest"/>

<style>

#progress
	{
	animation-name: ckw;
	animation-duration: 1s;
	animation-iteration-count: infinite;
	transform-origin: 50% 50%;
	display: inline-block;
	}

@keyframes ckw
	{
	0%
		{
		transform: rotate(0deg);
		}
	100%
		{
		transform: rotate(360deg);
		}
	}

</style>

</head>
<body>

<header>
	<svg id="hamburger" viewBox="0 0 24 24">
		<!--
		<rect x="0" y="0" width="24" height="24" fill="white"/>
		-->
		<g fill="black">
			<rect x="2" y="5" width="20" height="2"/>
			<rect x="2" y="11" width="20" height="2"/>
			<rect x="2" y="17" width="20" height="2"/>
		</g>
	</svg>
	<!--
	<h1><span id="hamburger">|||</span> Bus Sierrois</h1>
	<h1>Bus Sierrois</h1>
	-->
	<nav>
		<a id="lines" href="#lines">Lines</a>
		<a id="stops" href="#stops">Stops</a>
		<a id="a" href="#">A</a>
		<a id="b" href="#">B</a>
		<a id="c" href="#">C</a>
		<a id="update-stops-distance" href="#">Distances</a>
	</nav>
</header>

<!-- OK mais si tu veux mettre la il faut mettre dans header car ça passe dessus header (ça scroll) !!! -->
<svg id="loading" preserveAspectRatio="none" viewBox="0 0 100 3">
	<rect x="0" y="0" width="100" height="3" fill="skyblue">
		<animate attributeType="XML" attributeName="x" from="-100" to="100" dur="5s" repeatCount="indefinite"/>
	</rect>
</svg>

<!-- TODO Pas height auto -->
<svg style="display: none;" width="100%" height="auto" viewBox="0 0 600 400">
	<path id="a" d="M30 30l210 180 140-110 170 50-140 70 10 160" fill="none" stroke="red" stroke-width="8"/>
	<path d="M140 50l-40 150 60 150 170-150-90-110-80 110" fill="none" stroke="#0f0" stroke-width="8"/>
</svg>

<!-- OK -->
<svg id="progress" style="display: none;" width="128px" height="128px" viewBox="0 0 128 128">
	<circle cx="64" cy="64" r="64" fill="silver"/>
	<circle cx="64" cy="64" r="48" fill="white"/>
	<path d="M64 64 L128 0L128 128 z" fill="white" stroke="none"/>
</svg>

<main id="content">
	<p>a</p>
	<p>dfggdgdfgdf</p>
	<p>dfggdgdfgdf</p>
	<p>dfggdgdfgdf</p>
	<p>dfggdgdfgdf</p>
	<p>dfggdgdfgdf</p>
	<p>dfggdgdfgdf</p>
	<p>dfggdgdfgdf</p>
	<p>dfggdgdf dsfkljdf dklsfdlk dslfksdjf kldfj sdfklsdj lsdkfj ldkfj dlks fjsdklfj dlkfj gdf</p>
	<p>dfggdgdfgdf</p>
	<p>dfggdgdfgdf</p>
	<p>dfggdgdfgdf</p>
	<p>dfggdgdfgdf</p>
	<p>dfggdgdfgdf</p>
	<p>dfggdgdfasdsdsdasdsadasdasd asd asd ds das dasdasd kjasdlkaj lkasjldklsdjad klasjdaskjdgdf</p>
	<p>dfggdgdfgdf</p>
	<p>dfggdgdfgdf</p>
	<p>dfggdgdfgdf</p>
	<p>dfggdgdfgdf</p>
	<p>dfggdgdfgdf</p>
	<p>dfggdgdfgdf</p>
	<p>dfggdgdfgdf</p>
	<p>dfggdgdfgdf</p>
	<p>dfggdgdfcxvvcxvxcv vxcv vv xcvcv cvxcv xc v xcvv v vxcv  gdf 3</p>
	<p>dfggdgdfgdf</p>
	<p>dfggdgdfgdf</p>
	<p>dfggdgdfgdf</p>
	<p>dfggdgdfgdf</p>
	<p>dfggdgdfgdf</p>
	<p>dfggdgdfgdf</p>
	<p>dfggdgdfgdf</p>
	<p>.</p>
</main>

<!--
<svg xmlns="http://www.w3.org/2000/svg" width="50px" height="50px" viewBox="0 0 100 100">
	<circle class="pulse" cx="50" cy="50" r="30" fill="gold"/>
</svg>
-->



<aside id="menu">
	<p>dfg ddfkjg dfgjk dfgkl gkljdfg kldfgj dfklgj dfklgj dfgkl jdfgkjd</p>
	<p>dfg ddfkjg dfgjk dfgkl gkljdfg kldfgj dfklgj dfklgj dfgkl jdfgkjd</p>
	<p>dfg ddfkjg dfgjk dfgkl gkljdfg kldfgj dfklgj dfklgj dfgkl jdfgkjd</p>
</aside>








<script>

function el(id)
	{
	return document.querySelector(id);
	}

function on(element, eventName, callback)
	{
	element.addEventListener(eventName, callback, false);
	}

function onClick(id, callback)
	{
	on(el(id), 'click', callback);
	}

</script>

<!--
<script src="https://mozilla.github.io/nunjucks/files/nunjucks-slim.min.js"></script>
-->
<script src="https://mozilla.github.io/nunjucks/files/nunjucks.min.js"></script>

<script src="scripts/templates-dev.min.js"></script>

<script src="scripts/history.js"></script>
<script src="scripts/menu.js"></script>

<!--
<script type="module" src="scripts/main.mjs"></script>
<script type="module" src="scripts/dev.mjs"></script>
-->

<script type="module" src="scripts/main-ok.mjs"></script>

<!--
<script>
if (Modernizr.inlinesvg)
	{
	console.log('inlinesvg');
	}
</script>
-->


<script>

//nunjucks.configure('templates', {autoescape: true});

</script>



<script>

let onServiceWorkerRegisterSuccess = registration =>
	{
	//console.log(registration);
	};

let onServiceWorkerRegisterFailure = error =>
	{
	console.log(error);
	};

navigator.serviceWorker.register('scripts/service-worker2.js').then(onServiceWorkerRegisterSuccess, onServiceWorkerRegisterFailure);


/*
if ('serviceWorker' in navigator)
	{
	

	navigator.serviceWorker.register('/sw-test/sw.js', {scope: '/sw-test/'}).then(function(reg)
		{
		if (reg.installing)
			{
			console.log('Service worker installing');
			}
		else if (reg.waiting)
			{
			console.log('Service worker installed');
			}
		else if (reg.active)
			{
			console.log('Service worker active');
			}
		}).catch(function(error) {
    // registration failed
    console.log('Registration failed with ' + error);
  });
}
*/

</script>






</body>
</html>